#!/bin/bash

set -eou pipefail

check_file_existence(){
  file=$1

  echo "Checking file existence: $file"
  if [ ! -f "$file" ]; then
      echo "$file not exist"
      exit 1
  fi
}

check_directory_existence(){
  directory=$1

  echo "Checking directory existence: $directory"
  if [ ! -d "$directory" ]; then
      echo "$directory not exist"
      exit 1
  fi
}

main() {
  check_file_existence "/var/vcap/packages/kubernetes/bin/kubelet"
  check_directory_existence "/var/vcap/packages/kubernetes/container-images"
  check_directory_existence "/var/vcap/packages/kubernetes-addons/container-images"
}

main $@
